var imagefile001="";var oEmoticonPicker=new EmoticonPicker();var bEmoticonPicker=false;function checkImgType2(a){if(a.match(/(.[jJ][pP][eE]?[gG]|.[gG][iI][fF]|.[pP][nN][gG])/)){return true}return false}function checkImgType001(a){imagefile001=a;if(imagefile001!=""){if(false==checkImgType2(imagefile001)){alert("アップロードする画像の形式は、 .jpg、 .gif、 .pngです。 ")}}}if(typeof HTMLElement!="undefined"&&!HTMLElement.prototype.insertAdjacentElement){HTMLElement.prototype.insertAdjacentElement=function(a,b){switch(a){case"beforeBegin":this.parentNode.insertBefore(b,this);break;case"afterBegin":this.insertBefore(b,this.firstChild);break;case"beforeEnd":this.appendChild(b);break;case"afterEnd":if(this.nextSibling){this.parentNode.insertBefore(b,this.nextSibling)}else{this.parentNode.appendChild(b)}break}};HTMLElement.prototype.insertAdjacentHTML=function(b,d){var c=this.ownerDocument.createRange();c.setStartBefore(this);var a=c.createContextualFragment(d);this.insertAdjacentElement(b,a)};HTMLElement.prototype.insertAdjacentText=function(b,c){var a=document.createTextNode(c);this.insertAdjacentElement(b,a)}}function addFileField(a){frm=getObj("f");var c=getObj("addFile");var b='<div><input type="file" name="attached[]" class="frm_txt" size="38" onChange="checkImgType001(this.value)"></div>';var d=document.createElement("div");c.appendChild(d);d.innerHTML=b}function submitAll(h){var j=getObj("f");var b=getObj("fc");var c;var k=j.elements["attached[]"];if(undefined!=k){if("undefined"==typeof(k.length)){if(imagefile001!=""){if(false==checkImgType2(imagefile001)){alert("アップロードする画像の形式は、 .jpg、 .gif、 .pngです。 ");return}}}else{for(c=0;c<k.length;c++){if(k[c].value!=""){if(false==checkImgType2(k[c].value)){alert("アップロードする画像の形式は、 .jpg、 .gif、 .pngです。 ");return}}}}}if(j.title.value.trim()==""){alert("タイトルを入力してください。 ");j.title.focus();return}if(j.title.value.length>100){alert("タイトルは、最大１００文字です。 ");j.title.focus();return}if(typeof(j._fid)=="object"){if(j._fid.value.trim()==""){alert("書庫を選択してください。 ");return}else{j.fid.value=j._fid.value}}if(jshidden_cat){if(typeof(j.cate1)=="object"&&typeof(j.cate2)=="object"&&typeof(j.cate3)=="object"){if(j.cate1.value.trim()==""||j.cate2.value.trim()==""||j.cate3.value.trim()==""){alert("カテゴリーを選択してください。 ");return}}}var g=j.content.value.trim();var e=(typeof rte=="object"&&typeof rte.focus=="function");var a=function(){if(e){rte.focus()}else{j.content.focus()}};if(g==""){alert("内容を入力してください。 ");a();return}var f;if(e){f=g.replace(/<(p|div)>&nbsp;<\/\1>/ig,"-").replace(/(?:[\r\n])|(?:<\/?[\S][^>]*>)/ig,"").length;var d;if((d=g.match(/<img/ig))!=null){f+=d.length}}else{f=g.length}if(f>5000){alert("内容は、最大5000文字です。 ");a();return}if(typeof(h)!="undefined"&&h==1){j.action="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/write_preview.html";var l="preview";if(typeof window.name!="undefined"){if(window.name==l){window.name=""}}j.target=l}else{j.action="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/write_proc.html";j.target=""}j.changeEditor.value="";j.submit()}function del_cmt2(l,f,a,h,g,d,k){if(jsvcrumb){var b="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=cmt&fid="+a+"&id="+f+"&pid="+l+"&p="+jspage+"&update=1&m=c&crumb="+jscrumb+"&vcrumb="+jsvcrumb+"&.done="+jscurrent_page+"#"+f}else{var b="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=cmt&fid="+a+"&id="+f+"&pid="+l+"&p="+jspage+"&update=1&m=c&crumb="+jscrumb+"&.done="+jscurrent_page+"#"+f}if(jsBlogMakeId==jsBlogId){d=0}if(!d){if(confirm("本当に削除しますか？ ")){document.location=b;k.returnValue=false}}else{if(d==1){var j=getObj(g);var c=j.pw;if(c.value==""){if(k==null){k=event}open_cmt_confirm2(l,f,a,h,g,k)}}}}function del_cmt3(l,f,b,h,g,d,m,k){if(jsvcrumb){var a="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=cmt&fid="+b+"&id="+f+"&pid="+l+"&p="+jspage+"&update=1&m=c&crumb="+jscrumb+"&vcrumb="+jsvcrumb+"&s="+m+"&.done="+jscurrent_page+"#"+f}else{var a="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=cmt&fid="+b+"&id="+f+"&pid="+l+"&p="+jspage+"&update=1&m=c&crumb="+jscrumb+"&s="+m+"&.done="+jscurrent_page+"#"+f}if(jsBlogMakeId==jsBlogId){d=0}if(!d){if(confirm("本当に削除しますか？ ")){document.location=a;k.returnValue=false}}else{if(d==1){var j=getObj(g);var c=j.pw;if(c.value==""){if(k==null){k=event}open_cmt_confirm2(l,f,b,h,g,k)}}}}function del_cmt_confirm2(g,e){var f=getObj(g);var c=getObj(e);var j=c.pw;var k=c.no.value;var d=c.pno.value;var b=c.fno.value;var h=c.target.value;if(jsvcrumb){var a="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=cmt&fid="+b+"&id="+d+"&pid="+k+"&pw="+j.value+"&s=cmt&p="+jspage+"&update=1&m=c&crumb="+jscrumb+"&vcrumb="+jsvcrumb+"&.done="+jscurrent_page+"#"+d}else{var a="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=cmt&fid="+b+"&id="+d+"&pid="+k+"&pw="+j.value+"&s=cmt&p="+jspage+"&update=1&m=c&crumb="+jscrumb+"&.done="+jscurrent_page+"#"+d}if(j.value==""){alert("削除用のパスワードを入力してください。 ")}else{f.style.display="none";document.location=a}j.value=""}function del_cmt_confirm3(g,e,l){var f=getObj(g);var c=getObj(e);var j=c.pw;var k=c.no.value;var d=c.pno.value;var b=c.fno.value;var h=c.target.value;if(jsvcrumb){var a="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=cmt&fid="+b+"&id="+d+"&pid="+k+"&pw="+j.value+"&s="+l+"&p="+jspage+"&update=1&m=c&crumb="+jscrumb+"&vcrumb="+jsvcrumb+"&.done="+jscurrent_page+"#"+d}else{var a="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=cmt&fid="+b+"&id="+d+"&pid="+k+"&pw="+j.value+"&s="+l+"&p="+jspage+"&update=1&m=c&crumb="+jscrumb+"&.done="+jscurrent_page+"#"+d}if(j.value==""){alert("削除用のパスワードを入力してください。 ")}else{f.style.display="none";document.location=a}j.value=""}function open_cmt_confirm2(p,h,a,m,k,o){var l=getObj(m);var b=getObj(k);var c=b.pw;var f=b.no;var n=b.pno;var j=b.fno;var g=b.target1;var d=b.target2;if(isIE4||isIE5){}else{pX=o.clientX+document.documentElement.scrollLeft;pY=o.clientY+document.documentElement.scrollTop;l.style.top=pY-50;l.style.left=pX-50}l.style.display="block";c.focus();f.value=p;n.value=h;j.value=a;g.value=m;d.value=k}function close_cmt_confirm2(b,a){var d=getObj(b);var c=getObj(a);var e=c.pw;d.style.display="none";e.value=""}function submitEditGb(){var a=getObj("f");fieldvalue=a.content.value;if(fieldvalue.length>1024){alert("書庫説明文は１０２４文字以内で入力してください。 ");return}a.submit()}function edit_gb(a,l,m,p,b,c){var g=getObj("f");var j=getObj("title_new");var h=getObj("title_edit");var o=getObj("title_renew");var d=getObj("secret_opt");var f=getObj("secret_msg");var n=getObj("entryArea");if(a!=""){g.edit.value=a}if(l!=""){g.content.value=l.replace(/<br \/>/g,"\n")}if(c=="1"){g.access.checked=true;f.style.display="block"}else{g.access.checked=false;f.style.display="none"}if(typeof n!=="undefined"){n.style.display="block"}j.style.display="none";d.style.display="none";h.style.display="block";o.style.display="block";try{if(b>0){if(m!=""){g.ba.value=m}if(p!=""){g.nm.value=p}}else{if(p!=""){g.nickname.value=p}}}catch(k){}location.href="#editbox"}function del_mesg(k,b,g,f,d,j){if(jsvcrumb){var c="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=gb&fid="+b+"&pid="+k+"&p="+jspage+"&update=1&crumb="+jscrumb+"&vcrumb="+jsvcrumb+"&.done="+jscurrent_page}else{var c="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=gb&fid="+b+"&pid="+k+"&p="+jspage+"&update=1&crumb="+jscrumb+"&.done="+jscurrent_page}if(jsBlogMakeId==jsBlogId){d=0}if(d=="0"){if(confirm("本当に削除しますか？ ")){document.location=c;j.returnValue=false}}else{if(d=="1"){var h=getObj(f);var a=h.pw;if(a.value==""){if(j==null){j=event}open_msg_confirm(k,b,g,f,j)}}}}function del_mesg_gb(k,b,g,f,d,j){if(jsvcrumb){var c="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=gb&fid="+b+"&pid="+k+"&p="+jspage+"&update=1&crumb="+jscrumb+"&vcrumb="+jsvcrumb}else{var c="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=gb&fid="+b+"&pid="+k+"&p="+jspage+"&update=1&crumb="+jscrumb}if(jsBlogMakeId==jsBlogId){d=0}if(d=="0"){if(confirm("本当に削除しますか？ ")){document.location=c;j.returnValue=false}}else{if(d=="1"){var h=getObj(f);var a=h.pw;if(a.value==""){if(j==null){j=event}open_msg_confirm(k,b,g,f,j)}}}}function del_msg_confirm(b,a){var g=getObj(b);var d=getObj(a);var e=d.pw;var h=d.no.value;var f=d.fno.value;if(jsvcrumb){var c="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=gb&fid="+f+"&pid="+h+"&pw="+e.value+"&s=cmt&p="+jspage+"&update=1&crumb="+jscrumb+"&vcrumb="+jsvcrumb+"&.done="+jscurrent_page}else{var c="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=gb&fid="+f+"&pid="+h+"&pw="+e.value+"&s=cmt&p="+jspage+"&update=1&crumb="+jscrumb+"&.done="+jscurrent_page}if(e.value==""){alert("削除用のパスワードを入力してください。 ")}else{g.style.display="none";document.location=c}e.value=""}function del_msg_confirm_gb(b,a){var g=getObj(b);var d=getObj(a);var e=d.pw;var h=d.no.value;var f=d.fno.value;if(jsvcrumb){var c="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=gb&fid="+f+"&pid="+h+"&pw="+e.value+"&s=cmt&p="+jspage+"&update=1&crumb="+jscrumb+"&vcrumb="+jsvcrumb}else{var c="http://"+jsBlogPostHost+"/"+jsBlogId+"/MYBLOG/delete.html?sopt=gb&fid="+f+"&pid="+h+"&pw="+e.value+"&s=cmt&p="+jspage+"&update=1&crumb="+jscrumb}if(e.value==""){alert("削除用のパスワードを入力してください。 ")}else{g.style.display="none";document.location=c}e.value=""}function open_msg_confirm(n,b,j,f,l){var h=getObj(j);var c=getObj(f);var a=c.pw;var d=c.no;var m=c.fno;var k=c.target1;var g=c.target2;if(isIE4||isIE5){pX=l.x+document.documentElement.scrollLeft;pY=l.y+document.documentElement.scrollTop}else{pX=l.clientX+document.documentElement.scrollLeft;pY=l.clientY+document.documentElement.scrollTop}h.style.top=pY-50;h.style.left=pX-250;h.style.display="block";a.focus();d.value=n;m.value=b;k.value=j;g.value=f}function close_msg_confirm(b,a){var d=getObj(b);var c=getObj(a);var e=c.pw;d.style.display="none";e.value=""}function CmtFrm(c){var a=getObj("cmtframe"+c);var b=getObj("cmtFrm_img"+c);if(a.style.display=="none"){a.style.display="block";b.src=jsImgUrl+"/folder/boxset/"+jsskinNumber+"/icn_minus.gif";b.alt="閉じる"}else{a.style.display="none";b.src=jsImgUrl+"/folder/boxset/"+jsskinNumber+"/icn_plus.gif";b.alt="開く"}}function rss_cp(){var a;var b=document.body.createTextRange();b.moveToElementText(rss_url);b.select();b.execCommand("copy",a);alert("RSSアドレス（ＵＲＬ）をクリップボードにコピーしました。 ")}function move(){var b=getObj("s");var a=b.fd.value;if(!a){alert("書庫を選択してください。 ");return}b.fid.value=a;b.submit()}function del_ok(){frm=getObj("blog_delete");if(frm.del_type[2].checked){if(frm.del_desc.value.trim()==""){alert("削除理由を入力してください。 ");frm.del_desc.focus();return}}if(confirm("本当に削除しますか？ ")){frm.update.value="1";frm.submit()}}function del_ok2(){frm=getObj("blog_delete");if(frm.del_type[3].checked){if(frm.del_desc.value.trim()==""){alert("削除理由を入力してください。 ");frm.del_desc.focus();return}}if(confirm("本当に削除しますか？ ")){frm.update.value="1";frm.submit()}}function scrap1(){var b=getObj("s");var a=b.fd.value;if(!a){alert("書庫を選択してください。 ");return}b.fid.value=a;b.submit()}function scrap2(){alert("転載することができない記事です。 ");self.close()}function go_scrap_blog(a){if(!a){a=jsfid}opener.location.href="/"+jsBlogMakeId+"/folder/"+a+".html";self.close()}function sendPing(){frm=getObj("f");frm.submit()}function cp(a){var b=document.body.createTextRange();b.moveToElementText(getObj("tb_url"));b.select();b.execCommand("copy")}function change_poll_display(){if(check_vote_end2()){yblog_poll.style.display="none"}return}function check_vote2(){var a=0;var b=document.vote.elements;if(check_vote_end2()){alert("投票は締め切られています。投票結果のみ確認できます。 ");return}for(i=0;i<b.length;i++){if(b[i].name=="sel"&&b[i].checked==true){a++}}if(a<1){alert("項目を選択してください。 ");return}document.vote.crumb.value=jscrumb;document.vote.submit()}function check_vote_end2(){if(js_poll_end_date){var f=js_poll_end_date}else{var f=""}var e=new Date();var d=e.getYear();var a=e.getMonth()+1;var b=e.getDate();if(d<1900){d+=1900}if(a<10){a="0"+a}if(b<10){b="0"+b}var c=parseInt(d.toString()+a.toString()+b.toString());if(parseInt(f)<c){return true}else{return false}};